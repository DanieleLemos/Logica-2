<canvas width="600" height="400"></canvas>

<script>

function desenhaRetangulos (x, y, largura, altura, cor) {
    var tela = document.querySelector ("canvas");
    var pincel = tela.getContext ("2d");

    pincel.fillStyle = cor;
    pincel.fillRect (x, y, largura, altura);
    pincel.fillStroke = "black";
    pincel.strokeRect (x, y, largura, altura); 
}

function desenhaTexto (x, y, texto){
    var tela = document.querySelector('canvas');
    var pincel = tela.getContext('2d');

    pincel.font='15px Georgia';
    pincel.fillStyle='black';
    pincel.fillText(texto, x, y); 
}
/*
desenhaTexto ("2015", 10, 40); 
desenhaTexto ("2016", 85, 40);

var x = 10;
desenhaRetangulos (x, 50, 50, 50, "blue");
desenhaRetangulos (x, 100, 50, 25, "green");
desenhaRetangulos (x, 125, 50, 20, "yellow");
desenhaRetangulos (x, 145, 50, 5, "red");

var x = 85;
desenhaRetangulos (x, 50, 50, 65, "blue");
desenhaRetangulos (x, 115, 50, 20, "green");
desenhaRetangulos (x, 135, 50, 13, "yellow");
desenhaRetangulos (x, 148, 50, 2, "red");
*/

function desenhaBarra (x, y, serie, cores, texto){
    desenhaTexto (x, y - 10, texto);
    var somaAltura = 0;
    for(var i = 0; i< serie.length; i++){
    var altura = serie[i];
    desenhaRetangulos(x, y+somaAltura, 50, altura, cores[i]);
    somaAltura = somaAltura + altura; 
    }
}
var serie2015 =[50, 25, 20, 5];
var serie2016 =[65, 20, 13, 2];
var cores =["blue", "green", "yellow", "red"];

desenhaBarra(50, 50, serie2015, cores, "2015");
desenhaBarra(150, 50, serie2016, cores, "2016");
</script>